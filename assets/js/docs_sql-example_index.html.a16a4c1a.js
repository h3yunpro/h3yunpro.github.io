"use strict";(self.webpackChunkh3yun_pdocs=self.webpackChunkh3yun_pdocs||[]).push([[380],{8845:(s,i,a)=>{a.r(i),a.d(i,{comp:()=>h,data:()=>l});var n=a(641);const e={},h=(0,a(6262).A)(e,[["render",function(s,i){return(0,n.uX)(),(0,n.CE)("div",null,i[0]||(i[0]=[(0,n.Fv)('<h2 id="根据表单编码查询表单名称" tabindex="-1"><a class="header-anchor" href="#根据表单编码查询表单名称"><span>根据表单编码查询表单名称</span></a></h2><div class="hint-container tip"><p class="hint-container-title">提示</p><p>编码有可能是表单编码，也可能是子表控件编码，所以此处 <code>schemacode</code> 和 <code>childschemas</code> 两个都判断一遍。</p></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> SchemaCode </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `主表编码`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, ChildSchemas </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `子表编码`</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, extractvalue(Content,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;/BizObjectSchema/DisplayName&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `主表名称`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> H_PublishedBizObjectSchema </span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> SchemaCode </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;表单编码&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">OR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ChildSchemas </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">LIKE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;%表单编码%&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="查询表单-列表中编写的前后端代码" tabindex="-1"><a class="header-anchor" href="#查询表单-列表中编写的前后端代码"><span>查询表单/列表中编写的前后端代码</span></a></h2><p>表单设计中的自定义代码：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Javascript </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `旧版前端代码`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, NewJsCode </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `新版前端代码`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, BehindCode </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `后端代码`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> H_PublishedFormSetting</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> SchemaCode </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;表单编码&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>列表设计中的自定义代码：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Javascript </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `前端代码`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, BehindCode </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `后端代码`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> H_PublishedListViewSetting</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> SchemaCode </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;表单编码&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="根据代码片段查询所在的表单" tabindex="-1"><a class="header-anchor" href="#根据代码片段查询所在的表单"><span>根据代码片段查询所在的表单</span></a></h2><div class="hint-container tip"><p class="hint-container-title">提示</p><p>此处代码片段可以是类名、方法名等，当不知道类定义在哪个表单中，可通过此方式来查询。</p></div><p>以表单设计中后端代码片段来查询所在表单：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> SchemaCode </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `表单编码`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, BehindCode </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `后端代码`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> H_PublishedFormSetting</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> BehindCode </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">LIKE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;%代码片段%&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以列表设计中后端代码片段来查询所在表单：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> SchemaCode </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `表单编码`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, BehindCode </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `后端代码`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> H_PublishedListViewSetting</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> BehindCode </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">LIKE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;%代码片段%&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="获取氚云应用在钉钉中的appid" tabindex="-1"><a class="header-anchor" href="#获取氚云应用在钉钉中的appid"><span>获取氚云应用在钉钉中的appId</span></a></h2><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> CorpId, </span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">extractvalue(Agents, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;/ArrayOfDingTalkISVAgent/DingTalkISVAgent/AppId&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `appId`</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> H_DingtalkIsv</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="获取氚云流程表单审批通过时间" tabindex="-1"><a class="header-anchor" href="#获取氚云流程表单审批通过时间"><span>获取氚云流程表单审批通过时间</span></a></h2><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    date_format</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">FinishTime</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;%Y-%m-%d %H:%i:%s&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `审批通过时间`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    Approval </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`是否最终审批通过`</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    i_表单编码 a</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    LEFT JOIN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> H_WorkflowInstance b </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">WorkflowInstanceId</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ObjectId</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span></span>\n<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Approval</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',18)]))}]]),l=JSON.parse('{"path":"/docs/sql-example/","title":"数据库操作示例","lang":"zh-CN","frontmatter":{"title":"数据库操作示例","createTime":"2025/02/17 19:09:28","permalink":"/docs/sql-example/","description":"根据表单编码查询表单名称 提示 编码有可能是表单编码，也可能是子表控件编码，所以此处 schemacode 和 childschemas 两个都判断一遍。 查询表单/列表中编写的前后端代码 表单设计中的自定义代码： 列表设计中的自定义代码： 根据代码片段查询所在的表单 提示 此处代码片段可以是类名、方法名等，当不知道类定义在哪个表单中，可通过此方式来查...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"数据库操作示例\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-05-30T11:45:26.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://h3yunpro.github.io/docs/sql-example/"}],["meta",{"property":"og:site_name","content":"氚专开发者扩展文档"}],["meta",{"property":"og:title","content":"数据库操作示例"}],["meta",{"property":"og:description","content":"根据表单编码查询表单名称 提示 编码有可能是表单编码，也可能是子表控件编码，所以此处 schemacode 和 childschemas 两个都判断一遍。 查询表单/列表中编写的前后端代码 表单设计中的自定义代码： 列表设计中的自定义代码： 根据代码片段查询所在的表单 提示 此处代码片段可以是类名、方法名等，当不知道类定义在哪个表单中，可通过此方式来查..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-30T11:45:26.000Z"}],["meta",{"property":"article:modified_time","content":"2025-05-30T11:45:26.000Z"}]]},"readingTime":{"minutes":1.35,"words":406},"git":{"createdTime":1739878398000,"updatedTime":1748605526000,"contributors":[{"name":"氚云-凡狐","username":"","email":"huca@authine.com","commits":4,"avatar":"https://gravatar.com/avatar/a3f9e039904c5982dd5440c57df0b07fcf3ef5c18622f5eab116ae54c4e39f36?d=retro"}]},"autoDesc":true,"filePathRelative":"notes/docs/代码示例/数据库操作示例.md","headers":[]}')}}]);